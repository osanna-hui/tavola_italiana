<!DOCTYPE html>
<html lang="en">

  <!-- View -->
  <headReplace metal:use-macro="/templating/head.xhtml/meta_head">
  </headReplace>

  <body>



    <navReplace tal:condition="php: Session::get('isLoggedIn')" metal:use-macro="./templating/nav.xhtml/nav_bar">
    </navReplace>


     <div id="loginDiv">



      <div id="profileContainer" tal:condition="php: Session::get('isLoggedIn')">
        <div id="userProfile" tal:condition="exists:profile">
          <h2>WELCOME BACK!</h2>
          <span tal:content="profile/username"></span>
          <span tal:content="profile/firstName"></span>
          <span tal:content="profile/lastName"></span>
          <br/><br/><br/>
        </div>
      </div>

      <div id="shoppingCartContainer" tal:condition="php: Session::get('isLoggedIn')">

        <table id="productTable">
            <thead>
              <tr>
                <th>Product</th>
                <th>Quantity</th>
                <th>Price</th>
                <th>Add</th>
              </tr>
            </thead>
                <tbody id="productslist">
            
                </tbody>
           
        </table>
        <input type="button" value="START CART" class="btn btn-lg btn-default btn-block" id="startCart"/>
        
        <div id="cartSummary">
          <h2>Cart Summary</h2>
          <ul id="shoppingCart">
            <p>You currently don't have anything in your shopping cart!</p>
            <!--<li data-item-qty="1" data-item-sku="sk-438s3x">Coffee Cup (1) &#160;
              <input type="button" data-remove-button="remove" value="X"/></li>-->
          </ul>
          <p id="cartTotal">Total: </p>
          <input type="button" value="CANCEL CART" class="btn btn-lg btn-default" id="cancelCart"/>
          <input type="button" value="PROCEED TO CHECKOUT" class="btn btn-lg btn-default" id="toCheckout"/>
          <div style="font-size: 8pt;"><i>You'll see taxes and other shipping costs (ha ha) during checkout.</i></div>

          <input type="button" value="CHECKOUT" class="btn btn-lg btn-default" id="checkoutcart"/>
        </div>
      </div>

      <div id="loginFormContainer" class="container" tal:condition="php: !Session::get('isLoggedIn')">
        <img id="TI_logo" src="./img/TI_LOGO.png"/>
          <form id="loginForm" class="form-signin">
            <fieldset>
              <h2 id="adminLoginTitle">LOGIN TO CONTINUE AS A REGISTERED ADMIN</h2>
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon1"><span class="glyphicon glyphicon-user"></span></span>
                <input id="user_name" class="form-control loginInput" type="text" placeholder="USERNAME" name="user_name" autofocus="autofocus" required="required" aria-describedby="sizing-addon1"/><br/>
              </div>
              <div class="input-group">
                <span class="input-group-addon" id="sizing-addon2"><span class="glyphicon glyphicon-lock"></span></span>
                <input id="password" class="form-control loginInput" type="password" placeholder="PASSWORD" name="password" required="required" aria-describedby="sizing-addon2"/><br/>
              </div>

              <input id="loginbutton" class="btn btn-lg btn-default btn-block" type="button" value="ADMIN LOGIN"/>

            </fieldset>
          </form>

          <div id="messages">
            <span id="talMessages" tal:condition="php: count(messages) GT 0">
              <span tal:repeat="msg messages" class="${msg/type}"><span tal:content="msg/text"></span></span>
            </span>
            <span id="AJAXMessages">
            </span>
          </div>      

          <h3> -- OR -- </h3>
          <h3 id="as_cust">CONTINUE AS A CUSTOMER</h3>



      </div>

<!-- tal:condition="exists: isLoggedIn" / only shows up if admin is logged in-->

      <div id="logoutFormContainer" class="container" tal:condition="php: Session::get('isLoggedIn')">

        <form id="logoutForm" class="form-signin">
          <fieldset>
            <h2>LOGOUT</h2>
            
            <input id="logoutbutton" class="btn btn-lg btn-default btn-block" type="button" value="Logout"/>
            <input type="hidden" value="LOGOUT" name="logoutButton"/>
          </fieldset>
        </form>

      </div>


    </div>


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <script src="./js/main.js"></script>
      <script src="./js/shopping_cart.js"></script>

    <footerReplace metal:use-macro="/templating/footer.xhtml/page_footer">
    </footerReplace>

  </body>
</html>
